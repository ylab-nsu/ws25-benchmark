#include <stdio.h>
#include <time.h>
#include <stdint.h>

void measure_add(int iterations, int dst, int src) {
    

    for (uint32_t i = 0; i < iterations; ++i) {

        asm volatile (
            "add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            "add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            "add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            "add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            "add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            "add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            "add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            "add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            "add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            "add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            "add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            "add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            "add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            "add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            "add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            "add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            "add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            "add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            " add %0, %1, x0;"
            
            : "=r" (dst)
            : "r" (src)
        );
        
    }
    
}


int main() {
    int iterations = 100000000; 
    volatile int dst = 0;
    volatile int src = 5;
    measure_add(iterations,dst,src);
    return 0;
}
