#include <stdio.h>
#include <time.h>
#include <stdint.h>


void measure_addi(int iterations, int dst, int src) {
    
    for (uint32_t i = 0; i < iterations; ++i) {

        asm volatile (
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            " addi %0, %1, 0;"
            : "=r" (dst)
            : "r" (src)
     );
        
    }
    
}



int main() {
    int iterations = 1 000 000 000; 
    volatile int dst = 0;
    volatile int src = 5;
    measure_addi(iterations,dst,src);

    return 0;
}
